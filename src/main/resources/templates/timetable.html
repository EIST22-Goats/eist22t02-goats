<!doctype html>
<html lang="de">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tum Social</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
</head>

<body>

<header class="p-3 mb-3 border-bottom">
    <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none">
                <img src="/logo.svg" alt="logo" height="40">
            </a>

            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 ms-3 justify-content-center mb-md-0">
                <li><a href="/courses" class="nav-link px-2 link-dark">Kurse</a></li>
                <li><a href="#" class="nav-link px-2 link-dark">Terminkalender</a></li>
                <li><a href="#" class="nav-link px-2 link-dark"><span class="position-relative">
                    Chat
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                        2
                    </span>
                </span></a></li>
            </ul>

            <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                <input type="search" class="form-control" placeholder="Suche..." aria-label="Search">
            </form>

            <!--
            <div class="mx-4">
                <first href="" class="text-decoration-none link-dark position-relative">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         class="bi bi-chat" viewBox="0 0 16 16">
                        <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                    </svg>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                        2
                    </span>
                </first>
            </div>
            -->

            <div class="me-4">
                <a href="" class="text-decoration-none link-dark position-relative">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         class="bi bi-bell" viewBox="0 0 16 16">
                        <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
                    </svg>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                        3
                    </span>
                </a>
            </div>

            <div class="dropdown text-end">
                <a href="#" class="d-block link-dark text-decoration-none dropdown-toggle" id="dropdownUser1"
                   data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="/profile_pictures/ge95bit.png?44" alt="" class="rounded-circle"
                         width="32" height="32" style="object-fit: cover">
                </a>
                <ul class="dropdown-menu text-small" aria-labelledby="dropdownUser1">
                    <li><a class="dropdown-item" href="/profile">Mein Profil</a></li>
                    <li><a class="dropdown-item" href="#">Einstellungen</a></li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li><a class="dropdown-item" href="/logout">Abmelden</a></li>
                </ul>
            </div>
        </div>
    </div>
</header>

<div class="container">

    <div class="row mb-3" th:style="'height: '+${(endTime - startTime + 2) * 2.5}+'em'">
        <div class="col-1 position-relative">
            <div class="position-absolute border-bottom w-100 text-center p-1" style="height: 2.5em">
                <span class="lead">Zeit</span>
            </div>

            <div th:each="i: ${#numbers.sequence(0, endTime - startTime)}"
                 class="position-absolute bg border-bottom w-100 text-center p-2"
                 th:style="'height: 2.5em; top:'+${(i + 1) * 2.5}+'em;'"
                 th:text="${#numbers.formatInteger(i + startTime, 2)}+':00'"></div>
        </div>
        <div th:each="day: ${daysOfWeek}" class="col position-relative">
            <div class="position-absolute border-bottom border-start-0 w-100 text-center p-1" style="height: 2.5em">
                <span class="lead" th:text="${day}"></span>
            </div>

            <div th:each="i: ${#numbers.sequence(0, endTime - startTime)}" class="position-absolute border-bottom w-100"
                 th:style="'height: 2.5em; top:'+${(i + 1) * 2.5}+'em;'"></div>

            <div th:each="appointment: ${mappedAppointments.get(day)}"
                 class="w-100 border-start border-end position-absolute bg-light p-1 overflow-hidden"
                 th:style="'top: '+${((appointment.getStartTime().getHour() - startTime + 1) + appointment.getStartTime().getMinute() / 60.0) * 2.5}+'em; height: '+
                                   ${(appointment.getDurationInHours()) * 2.5}+'em;'">
                <span class="fw-bold" th:text="${appointment.getName()}"></span>
                <span th:text="${appointment.getStartTime()}+' - '+${appointment.getEndTime()}"></span>
            </div>
        </div>
    </div>

</div>

<div class="border-top">
    <footer class="container d-flex flex-wrap justify-content-between align-items-center py-3 my-4">
        <p class="col-md-6 mb-0 text-muted">Â© 2022 Tum Social</p>

        <a href="/"
           class="col-md-6 d-flex align-items-center justify-content-end mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
            <img src="/logo.svg" alt="logo" height="20">
        </a>
    </footer>
</div>

<div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
            crossorigin="anonymous"></script>

    <script src="/js/jquery-3.6.0.min.js"></script>
</div>

</body>
</html>
